<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REACT - 웹프로그래밍응용</title>

    <style>
        /* 캘린더 --------------------------------------------*/
        .calendarheader {
            position: fixed;
            top: 13vh;
            left: 15vw;
            width: 42vw;
            height: 12vh;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 2vw;
        }
        .month-name {
            font-family: myFont;
            font-size: 5vh;
            font-weight: bold;
            color: white;
        }
        .prev-btn {
            background-color: #5A8EB5;
            color: white;
            padding: 10px 15px;
            border: none;
            cursor: pointer;
        }
        .next-btn {
            background-color: #E68E8E;
            color: white;
            padding: 10px 15px;
            border: none;
            cursor: pointer;
        }

        .calendar {
            position: fixed;
            top: 22vh;
            left: 15vw;
            width: 42vw;
            height: 70vh;
            border-collapse: collapse;
            margin-top: 20px;
            font-family: myFont;
        }
        .calendar th, .calendar td {
            border: 2px solid white;
            padding: 20px;
            text-align: center;
            color: white;
            font-size: 3.5vh;
        }

        .calendar th {
            background-color: white;
            color: #1b1b1b;
        }
    </style>
</head>
<body>
    <h1>REACT</h1>
            <!-- 캘린더 -->
            <div class="calendarheader">
                <button class="prev-btn" onclick="changeMonth(-1)">&#9664;</button>
                <span class="month-name" id="monthName">September 2023</span>
                <button class="next-btn" onclick="changeMonth(1)">&#9654;</button>
            </div>
            <table class="calendar" id="calendarTable"></table>
            
            <script>
                var date = new Date();

                var currentMonth =  date.getMonth(); // 현재 월 index
                var currentYear =date.getFullYear(); // 현재 년도
                const Today = date.getDate(); // 오늘 날짜
                const TodayMonth = currentMonth;
                const TodayYear = currentYear;
                
                const monthNames = ["January", "February", "March", "April", "May", "June",
                                    "July", "August", "September", "October", "November", "December"];
        
                //버튼 클릭 이벤트
                function changeMonth(direction) {
                    currentMonth += direction; //현재 월 다음/전 월
                    if (currentMonth < 0) { //1월 전으로 가면 전년도 12월로
                        currentMonth = 11;
                        currentYear -= 1;
                    } else if (currentMonth > 11) { //12월 후로 가면 다음년도 1월로
                        currentMonth = 0;
                        currentYear += 1;
                    }
                    renderCalendar(currentMonth, currentYear);
                }
        
                function renderCalendar(month, year) {
                    const firstDay = new Date(year, month, 1).getDay(); //첫번째 날짜
                    let lastDate = new Date(year, month + 1, 0).getDate(); //마지막 날짜
        
                    let calendarHtml = '<tr><th style="color:#E68E8E";>Sun</th><th>Mon</th><th>Tue</th><th>Wed</th><th>Thu</th><th>Fri</th><th style="color:#5A8EB5";>Sat</th></tr><tr>';
                    for (let i = 0; i < firstDay; i++) { //첫 날짜 전 빈 셀 채움
                        calendarHtml += '<td></td>';
                    }
                    for (let i = 1; i <= lastDate; i++) { // 1~마지막 날 셀에 날짜 채움
                        if ((i + firstDay - 1) % 7 === 0 && i !== 1) {
                            calendarHtml += '</tr><tr>';
                        }
                        if(i===Today && month===TodayMonth && year===TodayYear){
                            calendarHtml += '<td style="background-color:white; color:#cf6655; font-size: 4vh; font-weight: bold;">' + i + '</td>';
                        }
                        else{
                            calendarHtml += '<td>' + i + '</td>';
                        }
                    }
                    while ((lastDate + firstDay) % 7 !== 0) { //마지막 날 이후 빈 셀 채움
                        calendarHtml += '<td></td>';
                        lastDate++;
                    }
                    calendarHtml += '</tr>';

                    document.getElementById('calendarTable').innerHTML = calendarHtml;
                    document.getElementById('monthName').textContent = monthNames[month] + ' ' + year;
                }
                renderCalendar(currentMonth, currentYear);

                function logTime(){
                    var task = document.getElementById("task").value;
                    var day = document.getElementById("day").value;
                    var time = document.getElementById("time").value;
                    var table = document.getElementById("timeLog");
                    var row = table.insertRow(-1);
                    var cell1 = row.insertCell(0);
                    var cell2 = row.insertCell(1);
                    var cell3 = row.insertCell(2);

                    cell1.innerHTML = task;
                    cell2.innerHTML = day;
                    cell3.innerHTML = time;

                    document.getElementById("task").value = "";
                    document.getElementById("day").value = "";
                    document.getElementById("time").value = "";
                }
            </script>       
        </article>
    </article>
</body>
</html>
